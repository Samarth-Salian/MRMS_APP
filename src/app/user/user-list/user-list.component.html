<ion-header translucent>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/my-meetings"></ion-back-button>
        </ion-buttons>
        <ion-title>User List</ion-title>
    </ion-toolbar>
</ion-header>
<div *ngIf='showSkeletion else hideSkeletion'>
    <mat-card class="listContainer" *ngFor="let user of users">
    <mat-card-header>
        <div mat-card-avatar>
            <img class="avatarImage" alt="" src="{{user.image}}">
        </div>
        <mat-card-title class="avatarName">{{user.firstName}} {{user.lastName}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <span>{{user.emailId}}</span>
    </mat-card-content>
    <mat-card-actions>
        <div *ngIf="user.adminRole">
            <button mat-button (click)="getUserMsg()">Downgrade to User</button>
        </div>
        <div *ngIf="!user.adminRole">
            <button mat-button (click)="getAdminMsg()">Upgrade to Admin</button>
        </div>
      </mat-card-actions>
</mat-card>
</div>
<ng-template #hideSkeletion>
    <ion-card *ngFor="let user of users">
        <ion-card-header class="shimmerHeader">
            <div>
                <ion-skeleton-text animated class='shimmerAvatar'></ion-skeleton-text>
            </div>
            <ion-card-title class='shimmerTitle'>
                <ion-skeleton-text animated></ion-skeleton-text>
            </ion-card-title>
        </ion-card-header>
        <ion-card-header class='shimmerHeader'>
            <ion-card-title style='width: 70%;'>
                <ion-skeleton-text animated></ion-skeleton-text>
            </ion-card-title>
        </ion-card-header>
        <ion-card-header>
            <ion-card-title>
                <ion-skeleton-text animated style='width: 50%;'></ion-skeleton-text>
            </ion-card-title>
        </ion-card-header>
    </ion-card>
</ng-template>

